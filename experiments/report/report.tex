\batchmode
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{pgffor}
\usepackage{float}
\usepackage[font=small,labelfont=bf]{caption}
% For pandas df tables
\usepackage{booktabs}
\usepackage{multirow}

\title{EarlyECTS Results}

% bold fase for tables (should make bf equally spaced as normal text)
% succes depends on font and font size
\newcommand{\bft}[1]{{\fontseries{b}\selectfont #1}}

% get dataset names
\begingroup\makeatletter\endlinechar=\m@ne\everyeof{\noexpand}
\edef\x{\endgroup\def\noexpand\datasets{\@@input|"ls -m output/plot/" }}\x

\begin{document}
\begin{table}[!hb]%
    \makebox[\textwidth][c]{%
    \tabcolsep=2px
    \input{output/tex/dataset.tex}}%
    \caption{Hyper volume (HV) and Delta ($\Delta$) metrics for compared methods on different dataset in the UCR Archive.}%
\end{table}
\begin{table}[!hb]%
    \makebox[\textwidth][c]{%
    \tabcolsep=2px
    \input{output/tex/stats.tex}}%
    \caption{Median pair wise differences with `mo-all' for Hyper volume (HV) and Delta ($\Delta$) metrics. $p$-values of the Wilcoxon rank-sum test are reported. Note that most are highly significant, indicating asymmetric difference distribution about zero.}%
\end{table}
\pagebreak
\foreach \dataset in \datasets {%
    \begin{figure}[H]%
        \makebox[\textwidth][c]{\includegraphics[width=\textwidth]{output/plot/\dataset/pareto.pdf}}%
        \caption{Earliness Accuracy tradeoff on dataset ``\dataset''.}%
    \end{figure}%
    \begin{figure}[H]%
        \makebox[\textwidth][c]{\includegraphics[width=\textwidth]{output/plot/\dataset/boxplot.pdf}}%
        \caption{Distibutions of the Hyper Volume and Delta metrics for dataset ``\dataset''.}%
    \end{figure}%
    \begin{table}[H]%
        \centering
        \input{output/tex/\dataset/table.tex}%
        \caption{Comparison of Pareto front metrics on dataset ``\dataset''.}%
    \end{table}
    \pagebreak
}
\end{document}
