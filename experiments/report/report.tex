\batchmode
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{pgffor}
\usepackage{float}
\usepackage[font=small,labelfont=bf]{caption}
% For pandas df tables
\usepackage{booktabs}
\usepackage{multirow}

\title{EarlyECTS Results}

% bold fase for tables (should make bf equally spaced as normal text)
% succes depends on font and font size
\newcommand{\bft}[1]{{\fontseries{b}\selectfont #1}}
\newcommand{\str}{\rlap{\textsuperscript{*}}}
\newcommand{\sstr}{\rlap{\textsuperscript{**}}}

% get dataset names
\begingroup\makeatletter\endlinechar=\m@ne\everyeof{\noexpand}
\edef\x{\endgroup\def\noexpand\datasets{\@@input|"ls -m output/plot/" }}\x

\begin{document}
\setlength\tabcolsep{3 pt}
\begin{table}[!hb]%
    \makebox[\textwidth][c]{%
    \input{output/tex/dataset.tex}}%
    \caption{Hyper volume (HV) and Delta ($\Delta$) metrics for compared methods on different dataset in the UCR Archive.}%
\end{table}
\begin{table}[!hb]%
    \makebox[\textwidth][c]{%
    \input{output/tex/stats.tex}}%
    \caption{Median pairwise differences with `mo-all' for Hyper Volume (HV) and Delta ($\Delta$) metrics. \str~ and \sstr~~ denote $p < 0.05$ and $p < 0.001$ respectively on the sign-test.}%
\end{table}
\pagebreak
\foreach \dataset in \datasets {%
    \begin{figure}[H]%
        \makebox[\textwidth][c]{\includegraphics[width=\textwidth]{output/plot/\dataset/pareto.pdf}}%
        \caption{Earliness Accuracy tradeoff on dataset ``\dataset''.}%
    \end{figure}%
    \begin{figure}[H]%
        \makebox[\textwidth][c]{\includegraphics[width=\textwidth]{output/plot/\dataset/scatter.pdf}}%
        \caption{Distibutions of the Hyper Volume and Delta metrics for dataset ``\dataset''.}%
    \end{figure}%
    \begin{table}[H]%
        \makebox[\textwidth][c]{%
        \input{output/tex/\dataset/table.tex}}%
        \caption{Comparison of Pareto front metrics on dataset ``\dataset''.}%
    \end{table}
    \pagebreak
}
\end{document}
